/* OPL Syntax Highlighting Layout (Legacy) */
.opl-editor-container {
    position: relative;
    width: 100%;
    height: 320px;
    /* Match the height of the textarea/div */
}

.opl-source-input,
.opl-code-view {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 5px;
    border: 1px solid var(--border-color);
    box-sizing: border-box;
    font-family: 'Consolas', 'Courier New', monospace;
    font-size: 13px;
    line-height: 1.5;
    white-space: pre;
    overflow: auto;
    background: transparent;
}

.opl-source-input {
    z-index: 2;
    /* Textarea on top */
    color: inherit;
    /* Default text color */
    resize: none;
    /* Disable resize to keep sync simple */
}

.opl-code-view {
    z-index: 1;
    /* Highlight div at bottom */
    pointer-events: none;
    /* Let clicks pass through to textarea */
    background-color: var(--input-bg);
    /* Background for the container */
    color: var(--text-color);
}

.transparent-text {
    color: transparent !important;
    caret-color: var(--text-color);
    /* Keep cursor visible */
    background: transparent !important;
}

/* Fix for fieldset overflow */
#itemeditor fieldset {
    min-width: 0;
}

/* Bracket Colorization */
.bracket-0 {
    color: var(--syntax-bracket-0);
    font-weight: bold;
}

/* Gold */
.bracket-1 {
    color: var(--syntax-bracket-1);
    font-weight: bold;
}

/* Orchid */
.bracket-2 {
    color: var(--syntax-bracket-2);
    font-weight: bold;
}

/* DodgerBlue */

/* Syntax Highlighting Colors - Variables will be set by JS */
.kw-functions {
    color: var(--syntax-functions);
}

.kw-commands {
    color: var(--syntax-commands);
}

.kw-stringfuncs {
    color: var(--syntax-stringfuncs);
}

.opl-string {
    color: var(--syntax-string);
}

.opl-comment {
    color: var(--syntax-comment);
}

.opl-number {
    color: var(--syntax-number);
}

.opl-label {
    color: var(--syntax-label);
}

.opl-operator {
    color: var(--syntax-operator);
}

/* Decompiler Log Banding (Simplified) */
.log-row-flow {
    background-color: rgba(65, 105, 225, 0.08);
    /* Faint Royal Blue */
}

.log-row-cmd {
    background-color: rgba(34, 139, 34, 0.08);
    /* Faint Forest Green (Generic Command) */
}

.log-row-stack {
    background-color: rgba(128, 128, 128, 0.08);
    /* Faint Grey */
}

/* Main Text Area Error Line */
.code-error-line {
    background-color: rgba(255, 0, 0, 0.4) !important;
    border-bottom: 2px solid red !important;
    color: inherit;
    /* Avoid display: inline-block inside pre if possible, but span needs it for bg/border consistency sometimes */
    /* Let's try omitting display to see if natural flow works better if simpler */
}

/* Gutter Highlight */
.gutter-error {
    background-color: #d00 !important;
    color: white !important;
    font-weight: bold;
}